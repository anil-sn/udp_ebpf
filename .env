# VXLAN Pipeline Environment Configuration
# This file contains all configurable parameters for the XDP VXLAN pipeline
#  
#  Translation :
#  
#  SOURCE_PORT="31765" - matches inner destination port 
#  NAT_IP="172.30.82.95" - target IP for DNAT
#  NAT_PORT="8081" - target port for DNAT
#  
#  Incoming VXLAN Packet:
#  Outer: [Outer Src IP]:65518 → [Outer Dst IP]:4789 (VXLAN)
#  Inner: [Inner Src IP]:[Inner Src Port] → [Inner Dst IP]:31765 (UDP)
#  VNI: 1 
#  Expected Translation Results:
#  Based on configuration (.env file):
#  
#  
#  Outgoing Packet Should Be:
#  [Inner Src IP]:[Inner Src Port] → [NAT_IP]:[NAT_PORT] (UDP)
#
# Packet Flow Description:
# ens5: VXLAN[Outer IP:65518→IP:4789 + VNI=1 + Inner[SrcIP:SrcPort→DstIP:31765] + Payload]
#   ↓ XDP Decapsulation & NAT
# Ring Buffer: L2 Frame[Eth + SrcIP:SrcPort→172.30.82.95:8081 + Payload] 
#   ↓ packet_injector reads
# ens6: Complete processed packet injected

# Network Interface Configuration
INTERFACE="ens5"                # Primary interface to attach XDP program
TARGET_INTERFACE="ens6"         # Target interface for packet forwarding

# NAT Configuration
NAT_IP="172.30.82.95"          # Target IP address for NAT translation
NAT_PORT="8081"                # Target port for NAT translation  
SOURCE_PORT="31765"            # Destination port to match for DNAT (actual packet port)

# VXLAN Configuration
VXLAN_PORT="4789"              # Standard VXLAN UDP port
TARGET_VNI="1"                 # AWS Traffic Mirror VNI (always 1)

# Performance Configuration
STATS_INTERVAL="5"             # Statistics display interval (seconds)
TARGET_PPS="85000"             # Target packet processing rate

# System Configuration
LOG_FILE="/tmp/vxlan_loader.log"    # Log file location
DEBUG_LEVEL="0"                     # Debug level (0=none, 1=error, 2=info, 3=debug)

# XDP Mode Configuration  
XDP_MODE="auto"                # XDP attachment mode: auto, driver, generic

# Monitoring Configuration
MONITOR_REFRESH_RATE="2"       # Monitor refresh rate (seconds)
PERFORMANCE_THRESHOLD="60000"  # Performance warning threshold (PPS)

# Color Configuration (for terminal output)
ENABLE_COLORS="true"           # Enable colored terminal output